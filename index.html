<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>自然大叔清洗服務｜顧客滿意度調查</title>
  <style>
    body {
      font-family: "Microsoft JhengHei", sans-serif;
      background-color: #f9faf9;
      color: #333;
      margin: 0;
      padding: 0;
      transition: all 0.3s ease;
    }
    .container {
      max-width: 800px;
      margin: 20px auto;
      background: #ffffff;
      padding: 20px;
      border-radius: 12px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.1);
      transition: all 0.3s ease;
    }
    .logo {
      text-align: center;
      margin-bottom: 20px;
    }
    .logo img {
      max-width: 100%;
      border-radius: 12px;
    }
    h2 {
      text-align: center;
      color: #3a6d4f;
      margin: 10px 0;
      font-size: 1.3rem;
    }
    p {
      line-height: 1.6;
      color: #555;
      font-size: 1rem;
    }
    .form-group {
      margin-bottom: 20px;
    }
    label {
      font-weight: bold;
      display: block;
      margin-bottom: 8px;
      color: #3a6d4f;
      font-size: 1.1rem;
    }
    .options label {
      display: block;
      margin: 5px 0;
    }
    textarea, input[type=text] {
      width: 100%;
      padding: 10px;
      border: 1px solid #ccc;
      border-radius: 8px;
      font-size: 0.95rem;
      resize: vertical;
      min-height: 50px;
      margin-top: 8px;
    }
    input[type=range] {
      width: 100%;
    }
    button {
      background: #3a6d4f;
      color: white;
      border: none;
      padding: 12px 20px;
      font-size: 16px;
      border-radius: 8px;
      cursor: pointer;
      display: block;
      margin: 0 auto;
    }
    button:hover {
      background: #2d523c;
    }
    .contact {
      margin-top: 30px;
      padding: 20px;
      background: #f1f9f1;
      border-radius: 8px;
      font-size: 1rem;
    }
    .thankyou {
      display: none;
      text-align: center;
      color: green;
      font-size: 1.2rem;
      margin-top: 20px;
    }
    .btn {
      display: inline-block;
      padding: 10px 20px;
      margin: 5px;
      border-radius: 5px;
      text-decoration: none;
      color: white;
      font-weight: bold;
    }
    .btn-line { background-color: #06c755; }
    .btn-fb { background-color: #1877F2; }
    .footer {
      text-align: center;
      margin-top: 40px;
      font-size: 0.9rem;
      color: #777;
    }
    .note {
      font-size: 0.85rem;
      color: #777;
      margin-top: 4px;
    }
    .progress-container {
      background: #e0e0e0;
      border-radius: 20px;
      margin: 20px 0;
      height: 20px;
      width: 100%;
      overflow: hidden;
    }
    .progress-bar {
      height: 100%;
      background: #3a6d4f;
      width: 0%;
      transition: width 0.3s ease;
    }

    /* 🌙 深色模式樣式 */
    body.dark {
      background-color: #121212;
      color: #eee;
    }
    body.dark .container {
      background: #1e1e1e;
      box-shadow: 0 4px 12px rgba(0,0,0,0.6);
    }
    body.dark h2, body.dark label {
      color: #9ad0b1;
    }
    body.dark p {
      color: #ccc;
    }
    body.dark textarea, 
    body.dark input[type=text], 
    body.dark input[type=range] {
      background: #2a2a2a;
      color: #eee;
      border: 1px solid #555;
    }
    body.dark button {
      background: #4da67a;
      color: #fff;
    }
    body.dark button:hover {
      background: #3b7e5b;
    }
    body.dark .progress-container {
      background: #333;
    }
    body.dark .progress-bar {
      background: #4da67a;
    }
    body.dark .contact {
      background: #2a2a2a;
      color: #ccc;
    }
    body.dark .footer {
      color: #aaa;
    }

    /* 主題切換按鈕 */
    .theme-toggle {
      position: fixed;
      top: 15px;
      right: 15px;
      background: #3a6d4f;
      color: #fff;
      border: none;
      border-radius: 50%;
      width: 40px;
      height: 40px;
      cursor: pointer;
      font-size: 18px;
    }
    body.dark .theme-toggle {
      background: #4da67a;
    }
  </style>
</head>
<body>
  <!-- 主題切換按鈕 -->
  <button class="theme-toggle" id="themeToggle">🌙</button>

  <div class="container">
    <!-- LOGO -->
    <div class="logo">
      <img src="ChatGPT.png" alt="自然大叔清洗服務 顧客滿意度調查">
    </div>

    <h2>誠摯邀請您填寫滿意度調查</h2>
    <p>
      感謝您選擇 <b>自然大叔專業家電清洗服務</b>！<br>
      我們始終秉持「讓每一位顧客乾淨使用家電」的初衷，致力提供安全、安心、放心的清洗體驗。<br>
      為了持續提升服務品質，也誠摯邀請您填寫以下調查表，<br>
      您的寶貴意見，將是我們進步的最大動力！
    </p>

    <!-- 進度條 -->
    <div class="progress-container">
      <div class="progress-bar" id="progressBar"></div>
    </div>

    <form id="surveyForm" action="https://formspree.io/f/xanbgwjw" method="POST">
      <!-- 記名欄位 -->
      <div class="form-group">
        <label>👤 請留下您的姓名或 LINE ID</label>
        <input type="text" name="customer_name" placeholder="輸入姓名或 LINE ID">
      </div>

      <!-- 問題 1 -->
      <div class="form-group">
        <label>1. 您對這次的清洗服務整體體驗感覺如何？</label>
        <div class="options">
          <label><input type="radio" name="q1" value="非常滿意"> 非常滿意</label>
          <label><input type="radio" name="q1" value="滿意"> 滿意</label>
          <label><input type="radio" name="q1" value="普通"> 普通</label>
          <label><input type="radio" name="q1" value="不太滿意"> 不太滿意</label>
          <label><input type="radio" name="q1" value="非常不滿意"> 非常不滿意</label>
        </div>
      </div>

      <!-- 問題 2 -->
      <div class="form-group">
        <label>2. 您對服務人員的專業程度是否滿意？</label>
        <div class="options">
          <label><input type="radio" name="q2" value="非常滿意"> 非常滿意</label>
          <label><input type="radio" name="q2" value="滿意"> 滿意</label>
          <label><input type="radio" name="q2" value="普通"> 普通</label>
          <label><input type="radio" name="q2" value="不太滿意"> 不太滿意</label>
          <label><input type="radio" name="q2" value="非常不滿意"> 非常不滿意</label>
        </div>
        <textarea name="q2_extra" placeholder="若有特別印象或建議，請填寫..."></textarea>
      </div>

      <!-- 問題 3 -->
      <div class="form-group">
        <label>3. 您認為服務人員的整體表現如何？</label>
        <div class="note">（1分=非常不滿意，5分=非常滿意）</div>
        <div class="options">
          <label><input type="radio" name="q3" value="1"> 1 分</label>
          <label><input type="radio" name="q3" value="2"> 2 分</label>
          <label><input type="radio" name="q3" value="3"> 3 分</label>
          <label><input type="radio" name="q3" value="4"> 4 分</label>
          <label><input type="radio" name="q3" value="5"> 5 分</label>
        </div>
      </div>

      <!-- 問題 4 -->
      <div class="form-group">
        <label>4. 若朋友或同事有需要，您願意推薦自然大叔的清洗服務嗎？</label>
        <div class="note">（1分=完全不會推薦，10分=一定會推薦）</div>
        <input type="range" name="q4" min="1" max="10" value="5" oninput="this.nextElementSibling.value = this.value">
        <output>5</output>
      </div>

      <!-- 問題 5 -->
      <div class="form-group">
        <label>5. 未來是否會再次委託自然大叔進行家電清洗服務？</label>
        <div class="options">
          <label><input type="radio" name="q5" value="一定會"> 一定會</label>
          <label><input type="radio" name="q5" value="有需要會考慮"> 有需要會考慮</label>
          <label><input type="radio" name="q5" value="可能不會"> 可能不會</label>
          <label><input type="radio" name="q5" value="不會"> 不會</label>
        </div>
      </div>

      <!-- 問題 6 -->
      <div class="form-group">
        <label>6. 您對我們的服務有任何想法、鼓勵或建議嗎？</label>
        <textarea name="q6" placeholder="📝 請自由填寫您的建議..."></textarea>
      </div>

      <button type="submit">送出表單</button>
      <div class="thankyou">✅ 感謝您填寫調查表！您的意見已成功送出。</div>
    </form>

    <!-- 聯絡資訊 -->
    <div class="contact" style="text-align:center;">
      <h3>📱 聯絡我們｜快速找到自然大叔</h3>
      <a href="https://lin.ee/OHk6Rn7" class="btn btn-line">🟢 LINE 官方帳號</a>
      <a href="https://bit.ly/NaturalUncleTW" class="btn btn-fb">🔵 Facebook 粉絲專頁</a>
    </div>

    <div class="footer">© 2025 自然大叔｜專業家電清洗服務</div>
  </div>

  <script>
    const form = document.getElementById("surveyForm");
    const thankyou = document.querySelector(".thankyou");
    const progressBar = document.getElementById("progressBar");

    // 進度條更新
    const updateProgress = () => {
      let answered = 0;
      const totalQuestions = 7; // 含姓名

      form.querySelectorAll("input, textarea").forEach(el => {
        if ((el.type === "radio" && el.checked) || 
            (el.type === "text" && el.value.trim() !== "") ||
            (el.type === "range" && el.value) ||
            (el.tagName === "TEXTAREA" && el.value.trim() !== "")) {
          answered++;
        }
      });

      const percent = Math.min((answered / totalQuestions) * 100, 100);
      progressBar.style.width = percent + "%";
    };
    form.addEventListener("input", updateProgress);

    // 表單送出
    form.addEventListener("submit", function(e) {
      e.preventDefault();
      fetch(form.action, {
        method: "POST",
        body: new FormData(form),
        headers: { 'Accept': 'application/json' }
      }).then(response => {
        if (response.ok) {
          form.reset();
          thankyou.style.display = "block";
          progressBar.style.width = "0%";
        } else {
          alert("送出失敗，請稍後再試！");
        }
      });
    });

    // 主題切換
    const themeToggle = document.getElementById("themeToggle");
    const setTheme = (theme) => {
      document.body.classList.toggle("dark", theme === "dark");
      themeToggle.textContent = theme === "dark" ? "☀️" : "🌙";
      localStorage.setItem("theme", theme);
    };
    themeToggle.addEventListener("click", () => {
      const current = document.body.classList.contains("dark") ? "dark" : "light";
      setTheme(current === "dark" ? "light" : "dark");
    });
    // 初始化：依 localStorage 或系統設定
    const savedTheme = localStorage.getItem("theme");
    if (savedTheme) {
      setTheme(savedTheme);
    } else {
      const prefersDark = window.matchMedia("(prefers-color-scheme: dark)").matches;
      setTheme(prefersDark ? "dark" : "light");
    }
  </script>
</body>
</html>
